<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Android输入法详解</title>
    <link rel="stylesheet" href="css/github-markdown.css">
    <link rel="stylesheet" href="css/post.css">
</head>
<body>
    <header class="center"><h4>TITLE:Android输入法详解</h4><br>
            <h4>DATE:2015-12-11</h4><br>
            <h4>TAG:Android,IME</h4><br>
    </header>
    <section class='markdown-body center'>
        <h1 id="">垃圾回收机制</h1>
<h3 id="-1">判断可回收对象</h3>
<ul>
<li>可达性判断
：
从root搜索是否可达（被引用），不可达即有可能可回收，还需要经过两层标记判断</li>
<li>几个常见的可回收对象
：
被赋值为null的对象，被引用向新对象的变量之前引用的对象。 <br />
局部引用对象 <br />
只有弱引用与其相关联的对象</li>
</ul>
<h3 id="-2">垃圾收集</h3>
<ul>
<li>标记-清除
：
标记所有可以回收的对象，再一一清除掉，容易产生内存碎片。</li>
<li>复制-清除
：
复制不可回收的对象，重新分配内存，回收可以回收的内存。执行算法时将会占用大量内存(多一倍)。</li>
<li>标记-整理-清除
：
在先有内存中标记存活对象，移动存活对象到现有内存边缘，清除整理后存活对象边界以外的内存。</li>
<li>分代收集（大部分jvm采用）
：
针对对象的生命周期，将内存做两种标记，标记每次只有少数对象需要被回收的内存区间称为老年代，标记每次都有大量对象需要被回收的内存区间称为新生代。回收时新生代一般按照复制-清除方式回收，老年代则是标记整理。还有一种区间叫做永久代，用来储存一些常量等基本不回收的对象，回收时会直接回收废弃的常量和无用的类。</li>
</ul>
<h3 id="-3">对象生命周期判断</h3>
<ul>
<li>大对象基本直接放到老年代</li>
<li>新生代中回收次数达到一定次数的，比如默认的15次，就会被放入老年代。</li>
<li>新生代回收时若用于放置拷贝的存活对象的空间内存不足，也会被放入老年代。</li>
</ul>
<!-- markdown end -->
<p></div>
<div class="entry" id="main"></p>
<!-- content -->
<h1 id="">垃圾回收机制</h1>
<h3 id="">判断可回收对象</h3>
<ul>
<li>可达性判断
：
从root搜索是否可达（被引用），不可达即有可能可回收，还需要经过两层标记判断</li>
<li>几个常见的可回收对象
：
被赋值为null的对象，被引用向新对象的变量之前引用的对象。 <br>
局部引用对象 <br>
只有弱引用与其相关联的对象</li>
</ul>
<h3 id="">垃圾收集</h3>
<ul>
<li>标记-清除
：
标记所有可以回收的对象，再一一清除掉，容易产生内存碎片。</li>
<li>复制-清除
：
复制不可回收的对象，重新分配内存，回收可以回收的内存。执行算法时将会占用大量内存(多一倍)。</li>
<li>标记-整理-清除
：
在先有内存中标记存活对象，移动存活对象到现有内存边缘，清除整理后存活对象边界以外的内存。</li>
<li>分代收集（大部分jvm采用）
：
针对对象的生命周期，将内存做两种标记，标记每次只有少数对象需要被回收的内存区间称为老年代，标记每次都有大量对象需要被回收的内存区间称为新生代。回收时新生代一般按照复制-清除方式回收，老年代则是标记整理。还有一种区间叫做永久代，用来储存一些常量等基本不回收的对象，回收时会直接回收废弃的常量和无用的类。</li>
</ul>
<h3 id="">对象生命周期判断</h3>
<ul>
<li>大对象基本直接放到老年代</li>
<li>新生代中回收次数达到一定次数的，比如默认的15次，就会被放入老年代。</li>
<li>新生代回收时若用于放置拷贝的存活对象的空间内存不足，也会被放入老年代。</li>
</ul>
    </section>
    <a class='fix-button top' href='#top'>
        Top
    </a>
    <a class='fix-button return' href='./index.html'>
        Return
    </a>
    <footer class='center'>
        <section class="bottom center">Powered By
            <a href="https://github.com/Easonzero/GeekBlog">GeekBlog</a>
        </section>
    </footer>
</body>
</html>